<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Unity WebGL Player | Sample</title>
    <link rel="shortcut icon" href="TemplateData/favicon.ico">
    <link rel="stylesheet" href="TemplateData/style.css">
    <link rel="manifest" href="manifest.webmanifest">
  </head>
  <body>
      <div id="unity-container">
          <canvas id="unity-canvas" width=960 height=600 tabindex="-1"></canvas>
          <div id="unity-loading-bar">
              <div id="unity-logo"></div>
              <div id="unity-progress-bar-empty">
                  <div id="unity-progress-bar-full"></div>
              </div>
          </div>
          <div id="unity-warning"> </div>
      </div>
      <script src="https://telegram.org/js/telegram-web-app.js"></script>
      <script src="index.js"></script>
      <script>
          // URL 쿼리 매개변수로 사용자 정보를 가져옵니다.
          //const user = new URLSearchParams(window.location.search).get('user');

          // JSON 문자열을 객체로 변환
          //const userInfo = JSON.parse(decodeURIComponent(user));

          // user data를 가져온다.
          const unsafeData = window.Telegram.WebApp.initDataUnsafe;

          // Unity에 사용자 정보를 전송합니다.
          window.unityInstance.SendMessage('TelegramMgr', 'ReceiveUserInfo', JSON.stringify(unsafeData));
      </script>
  </body>
</html>
